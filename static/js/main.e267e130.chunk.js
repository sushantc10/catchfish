(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(53),i=(a(79),a(81),a(15)),o=a(5),c=a(6),l=a(8),u=a(7),h=a(9),m=a(3),p=function(e){return r.a.createElement("header",{className:"top"},r.a.createElement("h1",null,"Catch",r.a.createElement("span",{className:"ofThe"},r.a.createElement("span",{className:"of"},"the"),r.a.createElement("span",{className:"the"},"fish"))),r.a.createElement("h3",{className:"tagline"},e.tagline))};function d(e){return"$".concat((e/100).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","))}var f=a(54),b=a.n(f),v=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).renderOrder=e.renderOrder.bind(Object(m.a)(Object(m.a)(e))),e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"renderOrder",value:function(e){var t=this,a=this.props.fishes[e],n=this.props.order[e],s=r.a.createElement("button",{onClick:function(){return t.props.removeOrder(e)}},"\xd7");return a&&"unavailable"!==a.status?r.a.createElement("li",{key:e},r.a.createElement("span",null,r.a.createElement(b.a,{component:"span",className:"count",transitionName:"count",transitionEnterTimeout:250,transitionLeaveTimeout:250},r.a.createElement("span",{key:n},n)),"lbs ",a.name,"  ",s),r.a.createElement("span",{className:"price"},d(n*a.price))):r.a.createElement("li",{key:e},"Sorry,",a?a.name:"fish"," is no longer available ",s)}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.order),a=t.reduce(function(t,a){var n=e.props.fishes[a],r=e.props.order[a];return n&&"available"===n.status?t+(r*n.price||0):t},0);return r.a.createElement("div",{className:"order-wrap"},r.a.createElement("h2",null,"Your Order"),r.a.createElement(b.a,{className:"order",component:"ul",transitionName:"order",transitionEnterTimeout:500,transitionLeaveTimeout:500},t.map(this.renderOrder),r.a.createElement("li",{className:"total"},r.a.createElement("strong",null,"Total:"),d(a))))}}]),t}(r.a.Component),g=a(35),O=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"CreateFish",value:function(e){e.preventDefault(),console.log("Gonna make some fish!");var t={name:this.name.value,price:this.price.value,status:this.status.value,desc:this.desc.value,image:this.image.value};this.props.addFish(t),this.fishForm.reset()}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{ref:function(t){return e.fishForm=t},className:"fish-edit",onSubmit:function(t){return e.CreateFish(t)}},r.a.createElement("input",{ref:function(t){return e.name=t},type:"text",placeholder:"Fish Name"}),r.a.createElement("input",{ref:function(t){return e.price=t},type:"text",placeholder:"Fish Price"}),r.a.createElement("select",{ref:function(t){return e.status=t}},r.a.createElement("option",{value:"available"},"Fresh!"),r.a.createElement("option",{value:"unavailable"},"Sold Out!")),r.a.createElement("textarea",{ref:function(t){return e.desc=t},placeholder:"Fish Desc"}),r.a.createElement("input",{ref:function(t){return e.image=t},type:"text",placeholder:"Fish Image"}),r.a.createElement("button",{type:"submit"},"+ Add Item"))}}]),t}(r.a.Component),j=a(70),k=a.n(j),y=a(71),E=a.n(y).a.initializeApp({apiKey:"AIzaSyD-eBmbcn_6fCHIL4bN9Nn8NufHQ_WN8eE",authDomain:"storeapp-b2933.firebaseapp.com",databaseURL:"https://storeapp-b2933.firebaseio.com"}),w=k.a.createClass(E.database()),F=a(36),C=a.n(F),S=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).renderInventory=e.renderInventory.bind(Object(m.a)(Object(m.a)(e))),e.handleChange=e.handleChange.bind(Object(m.a)(Object(m.a)(e))),e.renderLogin=e.renderLogin.bind(Object(m.a)(Object(m.a)(e))),e.authenticate=e.authenticate.bind(Object(m.a)(Object(m.a)(e))),e.authHandler=e.authHandler.bind(Object(m.a)(Object(m.a)(e))),e.state={uid:null,owner:null},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){var a=this.props.fishes[t],n=Object(i.a)({},a,Object(g.a)({},e.target.name,e.target.value));this.props.updateFish(t,n)}},{key:"authenticate",value:function(e){var t=new C.a.auth.FacebookAuthProvider;C.a.auth().signInWithPopup(t).then(function(){console.log(t)})}},{key:"authHandler",value:function(e,t){}},{key:"renderLogin",value:function(){var e=this;return r.a.createElement("nav",{className:"login"},r.a.createElement("h2",null,"Inventory"),r.a.createElement("p",null,"Sign in to manage your store's inventory"),r.a.createElement("button",{className:"facebook",onClick:function(){return e.authenticate("facebook")}},"LOG IN WITH FACEBOOK"))}},{key:"renderInventory",value:function(e){var t=this,a=this.props.fishes[e];return r.a.createElement("div",{className:"fish-edit",key:e},r.a.createElement("input",{type:"text",name:"name",onChange:function(a){return t.handleChange(a,e)},placeholder:"Fish name",value:a.name}),r.a.createElement("input",{type:"text",name:"price",onChange:function(a){return t.handleChange(a,e)},placeholder:"Fish price",value:a.price}),r.a.createElement("select",{name:"status",onChange:function(a){return t.handleChange(a,e)},placeholder:"Fish status",value:a.status},r.a.createElement("option",{value:"available"},"Fresh!"),r.a.createElement("option",{value:"unavailable"},"Sold Out!")),r.a.createElement("textarea",{name:"desc",onChange:function(a){return t.handleChange(a,e)},placeholder:"Fish desc",value:a.desc}),r.a.createElement("input",{type:"text",name:"image",onChange:function(a){return t.handleChange(a,e)},placeholder:"Fish image",value:a.image}),r.a.createElement("button",{onClick:function(){return t.props.removeFish(e)}},"Remove Fish"))}},{key:"render",value:function(){var e=r.a.createElement("button",null,"Logout");return r.a.createElement("div",null,r.a.createElement("p",null,"Inventory"),e,Object.keys(this.props.fishes).map(this.renderInventory),r.a.createElement(O,{addFish:this.props.addFish}),r.a.createElement("button",{onClick:this.props.loadSamples},"Load Sample Fishes"))}}]),t}(r.a.Component),N=a(72),I=a.n(N),T=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.details,n=t.index,s="available"===a.status,i=s?"Add To Order":"Sold Out!";return r.a.createElement("li",{className:"menu-fish"},r.a.createElement("img",{src:a.image,alt:a.name}),r.a.createElement("h3",null,a.name,r.a.createElement("span",{className:"price"},d(a.price))),r.a.createElement("p",null,a.desc),r.a.createElement("button",{onClick:function(){return e.props.addToOrder(n)},disabled:!s},i))}}]),t}(r.a.Component),_=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).addFish=function(t){console.log(e.state);var a=Object(i.a)({},e.state.fishes),n=Date.now();a["fish-".concat(n)]=t,e.setState({fishes:a})},e.loadSamples=function(){e.setState({fishes:I.a})},e.addToOrder=e.addToOrder.bind(Object(m.a)(Object(m.a)(e))),e.updateFish=e.updateFish.bind(Object(m.a)(Object(m.a)(e))),e.removeFish=e.removeFish.bind(Object(m.a)(Object(m.a)(e))),e.removeOrder=e.removeOrder.bind(Object(m.a)(Object(m.a)(e))),e.state={fishes:{},order:{}},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){console.log(this.props.match.params.storeId),this.ref=w.syncState("".concat(this.props.match.params.storeId,"/fishes"),{context:this,state:"fishes"});var e=localStorage.getItem("order-".concat(this.props.match.params.storeId));e&&this.setState({order:JSON.parse(e)})}},{key:"componentWillUnmount",value:function(){w.removeBinding(this.ref)}},{key:"componentWillUpdate",value:function(e,t){localStorage.setItem("order-".concat(this.props.match.params.storeId),JSON.stringify(t.order))}},{key:"updateFish",value:function(e,t){var a=Object(i.a)({},this.state.fishes);a[e]=t,this.setState({fishes:a})}},{key:"removeFish",value:function(e){var t=Object(i.a)({},this.state.fishes);t[e]=null,this.setState({fishes:t})}},{key:"removeOrder",value:function(e){var t=Object(i.a)({},this.state.order);delete t[e],this.setState({order:t})}},{key:"addToOrder",value:function(e){var t=Object(i.a)({},this.state.order);t[e]=t[e]+1||1,this.setState({order:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"catch-of-the-day"},r.a.createElement("div",{className:"menu"},r.a.createElement(p,{tagline:"Fresh Seafood Market"}),r.a.createElement("ul",{className:"list-of-fishes"},Object.keys(this.state.fishes).map(function(t){return r.a.createElement(T,{key:t,index:t,addToOrder:e.addToOrder,details:e.state.fishes[t]})}))),r.a.createElement(v,{fishes:this.state.fishes,order:this.state.order,params:this.props.params,removeOrder:this.removeOrder}),r.a.createElement(S,{addFish:this.addFish,fishes:this.state.fishes,loadSamples:this.loadSamples,updateFish:this.updateFish,removeFish:this.removeFish}))}}]),t}(r.a.Component),x=a(156),L=a(158),A=a(157),W=a(2),B=a.n(W),H=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"goToStore",value:function(e){console.log("You changed the URL");var t=this.storeInput.value;this.props.history.push("store/".concat(t)),e.preventDefault()}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"store-selector",onSubmit:function(t){return e.goToStore(t)}},r.a.createElement("h2",null,"Please enter a store"),r.a.createElement("input",{type:"text",required:!0,placeholder:"Store name",ref:function(t){e.storeInput=t}}),r.a.createElement("button",{type:"submit"},"Visit Store ->"))}}]),t}(r.a.Component);H.contextTypes={router:B.a.object};var P=H,D=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("p",null,"Notfound")}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J="/".concat(window.location.pathname.split("/")[1]);Object(s.render)(r.a.createElement(function(){return r.a.createElement(x.a,{basename:J},r.a.createElement(L.a,null,r.a.createElement(A.a,{exact:!0,path:"/",component:P}),r.a.createElement(A.a,{path:"/store/:storeId",component:_}),r.a.createElement(A.a,{component:D})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,t){e.exports={fish1:{name:"Pacific Halibut",image:"http://i.istockimg.com/file_thumbview_approve/36248396/5/stock-photo-36248396-blackened-cajun-sea-bass.jpg",desc:"Everyones favorite white fish. We will cut it to the size you need and ship it.",price:1724,status:"available"},fish2:{name:"Lobster",image:"http://i.istockimg.com/file_thumbview_approve/32135274/5/stock-photo-32135274-cooked-lobster.jpg",desc:"These tender, mouth-watering beauties are a fantastic hit at any dinner party.",price:3200,status:"available"},fish3:{name:"Sea Scallops",image:"http://i.istockimg.com/file_thumbview_approve/58624176/5/stock-photo-58624176-scallops-on-black-stone-plate.jpg",desc:"Big, sweet and tender. True dry-pack scallops from the icey waters of Alaska. About 8-10 per pound",price:1684,status:"unavailable"},fish4:{name:"Mahi Mahi",image:"http://i.istockimg.com/file_thumbview_approve/12556651/5/stock-photo-12556651-mahimahi.jpg",desc:"Lean flesh with a mild, sweet flavor profile, moderately firm texture and large, moist flakes. ",price:1129,status:"available"},fish5:{name:"King Crab",image:"http://i.istockimg.com/file_thumbview_approve/18294110/5/stock-photo-18294110-king-crab-legs.jpg",desc:"Crack these open and enjoy them plain or with one of our cocktail sauces",price:4234,status:"available"},fish6:{name:"Atlantic Salmon",image:"http://i.istockimg.com/file_thumbview_approve/56241842/5/stock-photo-56241842-salmon-fish.jpg",desc:"This flaky, oily salmon is truly the king of the sea. Bake it, grill it, broil it...as good as it gets!",price:1453,status:"available"},fish7:{name:"Oysters",image:"http://i.istockimg.com/file_thumbview_approve/58626682/5/stock-photo-58626682-fresh-oysters-on-a-black-stone-plate-top-view.jpg",desc:"A soft plump oyster with a sweet salty flavor and a clean finish.",price:2543,status:"available"},fish8:{name:"Mussels",image:"http://i.istockimg.com/file_thumbview_approve/40450406/5/stock-photo-40450406-steamed-mussels.jpg",desc:"The best mussels from the Pacific Northwest with a full-flavored and complex taste.",price:425,status:"available"},fish9:{name:"Jumbo Prawns",image:"http://i.istockimg.com/file_thumbview_approve/67121439/5/stock-photo-67121439-fresh-tiger-shrimp-on-ice-on-a-black-stone-table.jpg",desc:"With 21-25 two bite prawns in each pound, these sweet morsels are perfect for shish-kabobs.",price:2250,status:"available"}}},74:function(e,t,a){e.exports=a(152)},79:function(e,t,a){},81:function(e,t,a){}},[[74,2,1]]]);
//# sourceMappingURL=main.e267e130.chunk.js.map